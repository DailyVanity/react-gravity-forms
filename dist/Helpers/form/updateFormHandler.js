"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _validation=require("../validation"),_checkConditionalLogic=require("./checkConditionalLogic"),_default=(a,b,c,d,e,f,g,...h)=>{const{onChange:i}=h;let j,{id:k,type:l,isRequired:m}=a;if("checkbox"===a.type){const c=[...d[a.id].value],e=c.indexOf(b.target.value);-1<e?c.splice(e,1):c.push(b.target.value),j=c}else if("date"==a.type&&"datepicker"!==a.dateType){const{subId:c,dateLabel:e}=a,f=[...d[a.id].value];f[c]={val:b.target.value,label:e},j=f}else if("consent"===a.type)j=b.target?b.target.checked:"null";else if("address"===a.type){let e={...d[a.id].value};c&&(e[c]=b.target.value),j=e}else if("postcode"===a.type)j=b.target?b.target.value:null,Object.values(d).filter(a=>"field--street"===a.cssClass)[0].value=null===b||void 0===b?void 0:b.street,Object.values(d).filter(a=>"field--city"===a.cssClass)[0].value=null===b||void 0===b?void 0:b.city;else if("name"===a.type){let e=[...d[a.id].value];const f=e.indexOf(c);-1<f?e.splice(f,1):e[c]=b.target.value,j=b.target.value}else if("password"===a.type||"email"===a.type&&a.emailConfirmEnabled){const{subId:c}=a,e=d[a.id]&&d[a.id].value?[...d[a.id].value]:[];e[c]={val:b.target.value},j=e}else j=b.target?b.target.value:"null";"text"===l&&-1<a.cssClass.indexOf("iban")&&(l="iban");const n=(0,_validation.validateField)(j,a);if(-1!==f.indexOf(k)){d[k].value=j;for(let a=0;a<g.length;a++){const{id:b}=g[a],c=(0,_checkConditionalLogic.checkConditionalLogic)(g[a].conditionalLogic,d);d[b].hideField=c,c&&(d[b].isRequired&&c&&(d[b].value=""),d[b].valid=!!d[b].isRequired)}}const o={...d,[k]:{value:j,id:k,valid:n,label:a.label,pageNumber:a.pageNumber,cssClass:a.cssClass,isRequired:a.isRequired}};e({...o}),i&&i(o)};exports.default=_default;