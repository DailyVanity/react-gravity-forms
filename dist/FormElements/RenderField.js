"use strict";function _typeof(a){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _react=_interopRequireWildcard(require("react")),FormFields=_interopRequireWildcard(require("../Fields"));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var a=new WeakMap;return _getRequireWildcardCache=function(){return a},a}function _interopRequireWildcard(a){if(a&&a.__esModule)return a;if(null===a||"object"!==_typeof(a)&&"function"!=typeof a)return{default:a};var b=_getRequireWildcardCache();if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}return c["default"]=a,b&&b.set(a,c),c}function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(a,b){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a)){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h["return"]||h["return"]()}finally{if(e)throw f}}return c}}function _arrayWithHoles(a){if(Array.isArray(a))return a}var frac2dec=function(a){var b=a.split("-");if(1===b.length&&(b=a.split(" ")),1<b.length&&-1!==a.indexOf("/")){var c=parseInt(b[0]),d=b[1].split("/"),e=parseInt(d[0])/parseInt(d[1]);return c+e}if(-1!==a.indexOf("/")){var f=a.split("/"),g=parseInt(f[0])/parseInt(f[1]);return g}return parseInt(a)},formatComponentName=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},formatWidthFromCss=function(a){if(!a)return{};var b=a.indexOf("["),c=a.indexOf("]");if(-1===b||-1===c)return{};var d=a.substring(b+1,c).split(",").map(function(a){return frac2dec(a.replace(/\s/g,""))}),e="".concat(a.replace(a.substring(b,c+1),"")," custom-width");return{width:d,cleanedCssClass:e}},RenderField=function(a){var b=a.field,c=a.formValues,d=a.submitFailed,e=a.submitSuccess,f=a.setTouched,g=a.touched,h=a.updateForm,i=a.pages,j=a.prevStep,k=a.nextStep,l=a.isNextDisabled,m=a.saveStateToHtmlField,n=a.styledComponents,o=a.customComponents,p=a.error,q=a.unsetError,r=a.dropzoneText,s=FormFields[formatComponentName(b.type)],t=formatWidthFromCss(b.cssClass),u=t.cleanedCssClass,v=t.width;v&&(b.cssClass=u,b.width=v);var w=c[b.id]?c[b.id].value:b.defaultValue,x=(0,_react.useState)("".concat(b.cssClass).concat("select"===b.type?""===w.value?"":" filled":w&&""!==w?" filled":"")),y=_slicedToArray(x,2),z=y[0],A=y[1];return _react["default"].createElement(s,{key:b.id,field:b,value:w,updateForm:function updateForm(a,b){return h(a,b)},validationMessage:!!c[b.id]&&c[b.id].valid,submitFailed:d,submitSuccess:e,touched:g[b.id],setTouched:f,unsetError:q,error:p,pages:i,prevStep:j,nextStep:k,isNextDisabled:l,hideField:!!c[b.id]&&c[b.id].hideField,saveStateToHtmlField:!("html"!==b.type||-1===b.cssClass.indexOf("set-state"))&&{formValues:c,saveStateToHtmlField:m},styledComponents:n,cssClass:z,setFocusClass:function setFocusClass(a){a?-1===z.indexOf(" filled")&&A("".concat(z," filled")):A(z.replace(" filled",""))},component:o&&o[b.id],dropzoneText:r})},_default=RenderField;exports["default"]=_default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9Gb3JtRWxlbWVudHMvUmVuZGVyRmllbGQuanN4Il0sIm5hbWVzIjpbImZyYWMyZGVjIiwiZnJhY3Rpb24iLCJmcmFjdGlvblBhcnRzIiwic3BsaXQiLCJsZW5ndGgiLCJpbmRleE9mIiwiaW50ZWdlciIsInBhcnNlSW50IiwiZGVjaW1hbFBhcnRzIiwiZGVjaW1hbCIsImZvcm1hdENvbXBvbmVudE5hbWUiLCJzdHJpbmciLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwiZm9ybWF0V2lkdGhGcm9tQ3NzIiwiY3NzQ2xhc3MiLCJ3aWR0aFN0YXJ0cyIsIndpZHRoRW5kcyIsIndpZHRoIiwic3Vic3RyaW5nIiwibWFwIiwiaXRlbSIsInJlcGxhY2UiLCJjbGVhbmVkQ3NzQ2xhc3MiLCJSZW5kZXJGaWVsZCIsImZpZWxkIiwiZm9ybVZhbHVlcyIsInN1Ym1pdEZhaWxlZCIsInN1Ym1pdFN1Y2Nlc3MiLCJzZXRUb3VjaGVkIiwidG91Y2hlZCIsInVwZGF0ZUZvcm0iLCJwYWdlcyIsInByZXZTdGVwIiwibmV4dFN0ZXAiLCJpc05leHREaXNhYmxlZCIsInNhdmVTdGF0ZVRvSHRtbEZpZWxkIiwic3R5bGVkQ29tcG9uZW50cyIsImN1c3RvbUNvbXBvbmVudHMiLCJlcnJvciIsInVuc2V0RXJyb3IiLCJkcm9wem9uZVRleHQiLCJGb3JtQ29tcG9uZW50IiwiRm9ybUZpZWxkcyIsInR5cGUiLCJ2YWx1ZSIsImlkIiwiZGVmYXVsdFZhbHVlIiwiZmllbGRDbGFzc05hbWUiLCJzZXRGaWVsZENsYXNzTmFtZSIsImV2ZW50IiwidmFsaWQiLCJoaWRlRmllbGQiLCJzZXRGb2N1c0NsYXNzIiwiYWN0aW9uIl0sIm1hcHBpbmdzIjoidXFEQUdNQSxDQUFBQSxRQUFRLENBQUcsU0FBQ0MsQ0FBRCxDQUFjLENBRzdCLEdBQUlDLENBQUFBLENBQWEsQ0FBR0QsQ0FBUSxDQUFDRSxLQUFULENBQWUsR0FBZixDQUFwQixDQU1BLEdBTDZCLENBQXpCLEdB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QVMsQ0FBRWdCLENBQWdCLEVBQUlBLENBQWdCLENBQUNiLENBQUssQ0FBQ3FCLEVBQVAsQ0EzQmpELENBNEJFLFlBQVksQ0FBRUwsQ0E1QmhCLEVBK0JILEMsVUFFY2pCLFciLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCAqIGFzIEZvcm1GaWVsZHMgZnJvbSBcIi4uL0ZpZWxkc1wiO1xuXG5jb25zdCBmcmFjMmRlYyA9IChmcmFjdGlvbikgPT4ge1xuICAvKiBhc3N1bWVzIGZyYWN0aW9uIGlzIGluIHRoZSBmb3JtICAxLTEvMiBvciAxIDEvMiAqL1xuICAvKiBkb2Vzbid0IHdvcmsgb24gbmVnYXRpdmUgbnVtYmVycyAqL1xuICBsZXQgZnJhY3Rpb25QYXJ0cyA9IGZyYWN0aW9uLnNwbGl0KFwiLVwiKTtcbiAgaWYgKGZyYWN0aW9uUGFydHMubGVuZ3RoID09PSAxKSB7XG4gICAgLyogdHJ5IHNwYWNlIGFzIGRpdmlkZXIgKi9cbiAgICBmcmFjdGlvblBhcnRzID0gZnJhY3Rpb24uc3BsaXQoXCIgXCIpO1xuICB9XG5cbiAgaWYgKGZyYWN0aW9uUGFydHMubGVuZ3RoID4gMSAmJiBmcmFjdGlvbi5pbmRleE9mKFwiL1wiKSAhPT0gLTEpIHtcbiAgICBjb25zdCBpbnRlZ2VyID0gcGFyc2VJbnQoZnJhY3Rpb25QYXJ0c1swXSk7XG4gICAgY29uc3QgZGVjaW1hbFBhcnRzID0gZnJhY3Rpb25QYXJ0c1sxXS5zcGxpdChcIi9cIik7XG4gICAgY29uc3QgZGVjaW1hbCA9IHBhcnNlSW50KGRlY2ltYWxQYXJ0c1swXSkgLyBwYXJzZUludChkZWNpbWFsUGFydHNbMV0pO1xuXG4gICAgcmV0dXJuIGludGVnZXIgKyBkZWNpbWFsO1xuICB9XG4gIGlmIChmcmFjdGlvbi5pbmRleE9mKFwiL1wiKSAhPT0gLTEpIHtcbiAgICBjb25zdCBkZWNpbWFsUGFydHMgPSBmcmFjdGlvbi5zcGxpdChcIi9cIik7XG4gICAgY29uc3QgZGVjaW1hbCA9IHBhcnNlSW50KGRlY2ltYWxQYXJ0c1swXSkgLyBwYXJzZUludChkZWNpbWFsUGFydHNbMV0pO1xuICAgIHJldHVybiBkZWNpbWFsO1xuICB9XG4gIHJldHVybiBwYXJzZUludChmcmFjdGlvbik7XG59O1xuXG5jb25zdCBmb3JtYXRDb21wb25lbnROYW1lID0gKHN0cmluZykgPT5cbiAgc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xuY29uc3QgZm9ybWF0V2lkdGhGcm9tQ3NzID0gKGNzc0NsYXNzKSA9PiB7XG4gIGlmICghY3NzQ2xhc3MpIHJldHVybiB7fTtcbiAgY29uc3Qgd2lkdGhTdGFydHMgPSBjc3NDbGFzcy5pbmRleE9mKFwiW1wiKTtcbiAgY29uc3Qgd2lkdGhFbmRzID0gY3NzQ2xhc3MuaW5kZXhPZihcIl1cIik7XG5cbiAgaWYgKHdpZHRoU3RhcnRzID09PSAtMSB8fCB3aWR0aEVuZHMgPT09IC0xKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgY29uc3Qgd2lkdGggPSBjc3NDbGFzc1xuICAgIC5zdWJzdHJpbmcod2lkdGhTdGFydHMgKyAxLCB3aWR0aEVuZHMpXG4gICAgLnNwbGl0KFwiLFwiKVxuICAgIC5tYXAoKGl0ZW0pID0+IGZyYWMyZGVjKGl0ZW0ucmVwbGFjZSgvXFxzL2csIFwiXCIpKSk7XG5cbiAgY29uc3QgY2xlYW5lZENzc0NsYXNzID0gYCR7Y3NzQ2xhc3MucmVwbGFjZShcbiAgICBjc3NDbGFzcy5zdWJzdHJpbmcod2lkdGhTdGFydHMsIHdpZHRoRW5kcyArIDEpLFxuICAgIFwiXCJcbiAgKX0gY3VzdG9tLXdpZHRoYDtcblxuICByZXR1cm4ge1xuICAgIHdpZHRoLFxuICAgIGNsZWFuZWRDc3NDbGFzcyxcbiAgfTtcbn07XG5cbmNvbnN0IFJlbmRlckZpZWxkID0gKHtcbiAgZmllbGQsXG4gIGZvcm1WYWx1ZXMsXG4gIHN1Ym1pdEZhaWxlZCxcbiAgc3VibWl0U3VjY2VzcyxcbiAgc2V0VG91Y2hlZCxcbiAgdG91Y2hlZCxcbiAgdXBkYXRlRm9ybSxcbiAgcGFnZXMsXG4gIHByZXZTdGVwLFxuICBuZXh0U3RlcCxcbiAgaXNOZXh0RGlzYWJsZWQsXG4gIHNhdmVTdGF0ZVRvSHRtbEZpZWxkLFxuICBzdHlsZWRDb21wb25lbnRzLFxuICBjdXN0b21Db21wb25lbnRzLFxuICBlcnJvcixcbiAgdW5zZXRFcnJvcixcbiAgZHJvcHpvbmVUZXh0LFxufSkgPT4ge1xuICBjb25zdCBGb3JtQ29tcG9uZW50ID0gRm9ybUZpZWxkc1tmb3JtYXRDb21wb25lbnROYW1lKGZpZWxkLnR5cGUpXTtcbiAgY29uc3QgeyBjbGVhbmVkQ3NzQ2xhc3MsIHdpZHRoIH0gPSBmb3JtYXRXaWR0aEZyb21Dc3MoZmllbGQuY3NzQ2xhc3MpO1xuICBpZiAod2lkdGgpIHtcbiAgICBmaWVsZC5jc3NDbGFzcyA9IGNsZWFuZWRDc3NDbGFzcztcbiAgICBmaWVsZC53aWR0aCA9IHdpZHRoO1xuICB9XG4gIGNvbnN0IHZhbHVlID0gZm9ybVZhbHVlc1tmaWVsZC5pZF1cbiAgICA/IGZvcm1WYWx1ZXNbZmllbGQuaWRdLnZhbHVlXG4gICAgOiBmaWVsZC5kZWZhdWx0VmFsdWU7XG4gIGNvbnN0IFtmaWVsZENsYXNzTmFtZSwgc2V0RmllbGRDbGFzc05hbWVdID0gdXNlU3RhdGUoXG4gICAgYCR7ZmllbGQuY3NzQ2xhc3N9JHtcbiAgICAgIGZpZWxkLnR5cGUgPT09IFwic2VsZWN0XCJcbiAgICAgICAgPyB2YWx1ZS52YWx1ZSAhPT0gXCJcIlxuICAgICAgICAgID8gXCIgZmlsbGVkXCJcbiAgICAgICAgICA6IFwiXCJcbiAgICAgICAgOiB2YWx1ZSAmJiB2YWx1ZSAhPT0gXCJcIlxuICAgICAgICA/IFwiIGZpbGxlZFwiXG4gICAgICAgIDogXCJcIlxuICAgIH1gXG4gICk7XG5cbiAgY29uc3Qgc2V0Rm9jdXNDbGFzcyA9IChhY3Rpb24pID0+IHtcbiAgICBpZiAoYWN0aW9uKSB7XG4gICAgICBpZiAoZmllbGRDbGFzc05hbWUuaW5kZXhPZihcIiBmaWxsZWRcIikgPT09IC0xKSB7XG4gICAgICAgIHNldEZpZWxkQ2xhc3NOYW1lKGAke2ZpZWxkQ2xhc3NOYW1lfSBmaWxsZWRgKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2V0RmllbGRDbGFzc05hbWUoZmllbGRDbGFzc05hbWUucmVwbGFjZShcIiBmaWxsZWRcIiwgXCJcIikpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxGb3JtQ29tcG9uZW50XG4gICAgICBrZXk9e2ZpZWxkLmlkfVxuICAgICAgZmllbGQ9e2ZpZWxkfVxuICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgdXBkYXRlRm9ybT17KGV2ZW50LCBmaWVsZCkgPT4gdXBkYXRlRm9ybShldmVudCwgZmllbGQpfVxuICAgICAgdmFsaWRhdGlvbk1lc3NhZ2U9e1xuICAgICAgICBmb3JtVmFsdWVzW2ZpZWxkLmlkXSA/IGZvcm1WYWx1ZXNbZmllbGQuaWRdLnZhbGlkIDogZmFsc2VcbiAgICAgIH1cbiAgICAgIHN1Ym1pdEZhaWxlZD17c3VibWl0RmFpbGVkfVxuICAgICAgc3VibWl0U3VjY2Vzcz17c3VibWl0U3VjY2Vzc31cbiAgICAgIHRvdWNoZWQ9e3RvdWNoZWRbZmllbGQuaWRdfVxuICAgICAgc2V0VG91Y2hlZD17c2V0VG91Y2hlZH1cbiAgICAgIHVuc2V0RXJyb3I9e3Vuc2V0RXJyb3J9XG4gICAgICBlcnJvcj17ZXJyb3J9XG4gICAgICBwYWdlcz17cGFnZXN9XG4gICAgICBwcmV2U3RlcD17cHJldlN0ZXB9XG4gICAgICBuZXh0U3RlcD17bmV4dFN0ZXB9XG4gICAgICBpc05leHREaXNhYmxlZD17aXNOZXh0RGlzYWJsZWR9XG4gICAgICBoaWRlRmllbGQ9e2Zvcm1WYWx1ZXNbZmllbGQuaWRdID8gZm9ybVZhbHVlc1tmaWVsZC5pZF0uaGlkZUZpZWxkIDogZmFsc2V9XG4gICAgICBzYXZlU3RhdGVUb0h0bWxGaWVsZD17XG4gICAgICAgIGZpZWxkLnR5cGUgPT09IFwiaHRtbFwiICYmIGZpZWxkLmNzc0NsYXNzLmluZGV4T2YoXCJzZXQtc3RhdGVcIikgIT09IC0xXG4gICAgICAgICAgPyB7IGZvcm1WYWx1ZXMsIHNhdmVTdGF0ZVRvSHRtbEZpZWxkIH1cbiAgICAgICAgICA6IGZhbHNlXG4gICAgICB9XG4gICAgICBzdHlsZWRDb21wb25lbnRzPXtzdHlsZWRDb21wb25lbnRzfVxuICAgICAgY3NzQ2xhc3M9e2ZpZWxkQ2xhc3NOYW1lfVxuICAgICAgc2V0Rm9jdXNDbGFzcz17c2V0Rm9jdXNDbGFzc31cbiAgICAgIGNvbXBvbmVudD17Y3VzdG9tQ29tcG9uZW50cyAmJiBjdXN0b21Db21wb25lbnRzW2ZpZWxkLmlkXX1cbiAgICAgIGRyb3B6b25lVGV4dD17ZHJvcHpvbmVUZXh0fVxuICAgIC8+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBSZW5kZXJGaWVsZDtcbiJdfQ==