"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _react = _interopRequireDefault(require("react"));

var FormFields = _interopRequireWildcard(require("../Fields"));

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj["default"] = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var frac2dec = function frac2dec(fraction) {
  /* assumes fraction is in the form  1-1/2 or 1 1/2 */

  /* doesn't work on negative numbers */
  var fractionParts = fraction.split('-');

  if (fractionParts.length === 1) {
    /* try space as divider */
    fractionParts = fraction.split(' ');
  }

  if (fractionParts.length > 1 && fraction.indexOf('/') !== -1) {
    var integer = parseInt(fractionParts[0]);
    var decimalParts = fractionParts[1].split('/');
    var decimal = parseInt(decimalParts[0]) / parseInt(decimalParts[1]);
    return integer + decimal;
  }

  if (fraction.indexOf('/') !== -1) {
    var _decimalParts = fraction.split('/');

    var _decimal = parseInt(_decimalParts[0]) / parseInt(_decimalParts[1]);

    return _decimal;
  }

  return parseInt(fraction);
};

var formatComponentName = function formatComponentName(string) {
  return string.charAt(0).toUpperCase() + string.slice(1);
};

var formatWidthFromCss = function formatWidthFromCss(cssClass) {
  if (!cssClass) return {};
  var widthStarts = cssClass.indexOf('[');
  var widthEnds = cssClass.indexOf(']');

  if (widthStarts === -1 || widthEnds === -1) {
    return {};
  }

  var width = cssClass.substring(widthStarts + 1, widthEnds).split(',').map(function (item) {
    return frac2dec(item.replace(/\s/g, ''));
  });
  var cleanedCssClass = "".concat(cssClass.replace(cssClass.substring(widthStarts, widthEnds + 1), ''), " custom-width");
  return {
    width: width,
    cleanedCssClass: cleanedCssClass
  };
};

var RenderField = function RenderField(_ref) {
  var field = _ref.field,
      formValues = _ref.formValues,
      submitFailed = _ref.submitFailed,
      submitSuccess = _ref.submitSuccess,
      setTouched = _ref.setTouched,
      touched = _ref.touched,
      _updateForm = _ref.updateForm,
      pages = _ref.pages,
      prevStep = _ref.prevStep,
      nextStep = _ref.nextStep,
      isNextDisabled = _ref.isNextDisabled,
      checkConditionalLogic = _ref.checkConditionalLogic,
      saveStateToHtmlField = _ref.saveStateToHtmlField,
      styledComponents = _ref.styledComponents;
  var FormComponent = FormFields[formatComponentName(field.type)];

  var _formatWidthFromCss = formatWidthFromCss(field.cssClass),
      cleanedCssClass = _formatWidthFromCss.cleanedCssClass,
      width = _formatWidthFromCss.width;

  if (width) {
    field.cssClass = cleanedCssClass;
    field.width = width;
  }

  return _react["default"].createElement(FormComponent, {
    key: field.id,
    field: field,
    value: formValues[field.id] ? formValues[field.id].value : field.defaultValue,
    updateForm: function updateForm(event, field) {
      return _updateForm(event, field);
    },
    validationMessage: formValues[field.id] ? formValues[field.id].valid : false,
    submitFailed: submitFailed,
    submitSuccess: submitSuccess,
    touched: touched[field.id],
    setTouched: setTouched,
    pages: pages,
    prevStep: prevStep,
    nextStep: nextStep,
    isNextDisabled: isNextDisabled,
    hideField: formValues[field.id] ? formValues[field.id].hideField : false,
    saveStateToHtmlField: field.type === 'html' && field.cssClass.indexOf('set-state') !== -1 ? {
      formValues: formValues,
      saveStateToHtmlField: saveStateToHtmlField
    } : false,
    styledComponents: styledComponents
  });
};

var _default = RenderField;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9Gb3JtRWxlbWVudHMvUmVuZGVyRmllbGQuanN4Il0sIm5hbWVzIjpbImZyYWMyZGVjIiwiZnJhY3Rpb24iLCJmcmFjdGlvblBhcnRzIiwic3BsaXQiLCJsZW5ndGgiLCJpbmRleE9mIiwiaW50ZWdlciIsInBhcnNlSW50IiwiZGVjaW1hbFBhcnRzIiwiZGVjaW1hbCIsImZvcm1hdENvbXBvbmVudE5hbWUiLCJzdHJpbmciLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwiZm9ybWF0V2lkdGhGcm9tQ3NzIiwiY3NzQ2xhc3MiLCJ3aWR0aFN0YXJ0cyIsIndpZHRoRW5kcyIsIndpZHRoIiwic3Vic3RyaW5nIiwibWFwIiwiaXRlbSIsInJlcGxhY2UiLCJjbGVhbmVkQ3NzQ2xhc3MiLCJSZW5kZXJGaWVsZCIsImZpZWxkIiwiZm9ybVZhbHVlcyIsInN1Ym1pdEZhaWxlZCIsInN1Ym1pdFN1Y2Nlc3MiLCJzZXRUb3VjaGVkIiwidG91Y2hlZCIsInVwZGF0ZUZvcm0iLCJwYWdlcyIsInByZXZTdGVwIiwibmV4dFN0ZXAiLCJpc05leHREaXNhYmxlZCIsImNoZWNrQ29uZGl0aW9uYWxMb2dpYyIsInNhdmVTdGF0ZVRvSHRtbEZpZWxkIiwic3R5bGVkQ29tcG9uZW50cyIsIkZvcm1Db21wb25lbnQiLCJGb3JtRmllbGRzIiwidHlwZSIsImlkIiwidmFsdWUiLCJkZWZhdWx0VmFsdWUiLCJldmVudCIsInZhbGlkIiwiaGlkZUZpZWxkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7OztBQUVBLElBQU1BLFFBQVEsR0FBRyxTQUFYQSxRQUFXLENBQUNDLFFBQUQsRUFBYztBQUM3Qjs7QUFDQTtBQUNBLE1BQUlDLGFBQWEsR0FBR0QsUUFBUSxDQUFDRSxLQUFULENBQWUsR0FBZixDQUFwQjs7QUFDQSxNQUFJRCxhQUFhLENBQUNFLE1BQWQsS0FBeUIsQ0FBN0IsRUFBZ0M7QUFDOUI7QUFDQUYsSUFBQUEsYUFBYSxHQUFHRCxRQUFRLENBQUNFLEtBQVQsQ0FBZSxHQUFmLENBQWhCO0FBQ0Q7O0FBRUQsTUFBSUQsYUFBYSxDQUFDRSxNQUFkLEdBQXVCLENBQXZCLElBQTRCSCxRQUFRLENBQUNJLE9BQVQsQ0FBaUIsR0FBakIsTUFBMEIsQ0FBQyxDQUEzRCxFQUE4RDtBQUM1RCxRQUFNQyxPQUFPLEdBQUdDLFFBQVEsQ0FBQ0wsYUFBYSxDQUFDLENBQUQsQ0FBZCxDQUF4QjtBQUNBLFFBQU1NLFlBQVksR0FBR04sYUFBYSxDQUFDLENBQUQsQ0FBYixDQUFpQkMsS0FBakIsQ0FBdUIsR0FBdkIsQ0FBckI7QUFDQSxRQUFNTSxPQUFPLEdBQUdGLFFBQVEsQ0FBQ0MsWUFBWSxDQUFDLENBQUQsQ0FBYixDQUFSLEdBQTRCRCxRQUFRLENBQUNDLFlBQVksQ0FBQyxDQUFELENBQWIsQ0FBcEQ7QUFFQSxXQUFPRixPQUFPLEdBQUdHLE9BQWpCO0FBQ0Q7O0FBQ0QsTUFBSVIsUUFBUSxDQUFDSSxPQUFULENBQWlCLEdBQWpCLE1BQTBCLENBQUMsQ0FBL0IsRUFBa0M7QUFDaEMsUUFBTUcsYUFBWSxHQUFHUCxRQUFRLENBQUNFLEtBQVQsQ0FBZSxHQUFmLENBQXJCOztBQUNBLFFBQU1NLFFBQU8sR0FBR0YsUUFBUSxDQUFDQyxhQUFZLENBQUMsQ0FBRCxDQUFiLENBQVIsR0FBNEJELFFBQVEsQ0FBQ0MsYUFBWSxDQUFDLENBQUQsQ0FBYixDQUFwRDs7QUFDQSxXQUFPQyxRQUFQO0FBQ0Q7O0FBQ0QsU0FBT0YsUUFBUSxDQUFDTixRQUFELENBQWY7QUFDRCxDQXRCRDs7QUF3QkEsSUFBTVMsbUJBQW1CLEdBQUcsU0FBdEJBLG1CQUFzQixDQUFBQyxNQUFNO0FBQUEsU0FBSUEsTUFBTSxDQUFDQyxNQUFQLENBQWMsQ0FBZCxFQUFpQkMsV0FBakIsS0FBaUNGLE1BQU0sQ0FBQ0csS0FBUCxDQUFhLENBQWIsQ0FBckM7QUFBQSxDQUFsQzs7QUFDQSxJQUFNQyxrQkFBa0IsR0FBRyxTQUFyQkEsa0JBQXFCLENBQUNDLFFBQUQsRUFBYztBQUN2QyxNQUFJLENBQUNBLFFBQUwsRUFBZSxPQUFPLEVBQVA7QUFDZixNQUFNQyxXQUFXLEdBQUdELFFBQVEsQ0FBQ1gsT0FBVCxDQUFpQixHQUFqQixDQUFwQjtBQUNBLE1BQU1hLFNBQVMsR0FBR0YsUUFBUSxDQUFDWCxPQUFULENBQWlCLEdBQWpCLENBQWxCOztBQUVBLE1BQUlZLFdBQVcsS0FBSyxDQUFDLENBQWpCLElBQXNCQyxTQUFTLEtBQUssQ0FBQyxDQUF6QyxFQUE0QztBQUMxQyxXQUFPLEVBQVA7QUFDRDs7QUFFRCxNQUFNQyxLQUFLLEdBQUdILFFBQVEsQ0FDbkJJLFNBRFcsQ0FDREgsV0FBVyxHQUFHLENBRGIsRUFDZ0JDLFNBRGhCLEVBRVhmLEtBRlcsQ0FFTCxHQUZLLEVBR1hrQixHQUhXLENBR1AsVUFBQUMsSUFBSTtBQUFBLFdBQUl0QixRQUFRLENBQUNzQixJQUFJLENBQUNDLE9BQUwsQ0FBYSxLQUFiLEVBQW9CLEVBQXBCLENBQUQsQ0FBWjtBQUFBLEdBSEcsQ0FBZDtBQUtBLE1BQU1DLGVBQWUsYUFBTVIsUUFBUSxDQUFDTyxPQUFULENBQ3pCUCxRQUFRLENBQUNJLFNBQVQsQ0FBbUJILFdBQW5CLEVBQWdDQyxTQUFTLEdBQUcsQ0FBNUMsQ0FEeUIsRUFFekIsRUFGeUIsQ0FBTixrQkFBckI7QUFLQSxTQUFPO0FBQ0xDLElBQUFBLEtBQUssRUFBTEEsS0FESztBQUVMSyxJQUFBQSxlQUFlLEVBQWZBO0FBRkssR0FBUDtBQUlELENBdkJEOztBQXlCQSxJQUFNQyxXQUFXLEdBQUcsU0FBZEEsV0FBYyxPQWVkO0FBQUEsTUFkSkMsS0FjSSxRQWRKQSxLQWNJO0FBQUEsTUFiSkMsVUFhSSxRQWJKQSxVQWFJO0FBQUEsTUFaSkMsWUFZSSxRQVpKQSxZQVlJO0FBQUEsTUFYSkMsYUFXSSxRQVhKQSxhQVdJO0FBQUEsTUFWSkMsVUFVSSxRQVZKQSxVQVVJO0FBQUEsTUFUSkMsT0FTSSxRQVRKQSxPQVNJO0FBQUEsTUFSSkMsV0FRSSxRQVJKQSxVQVFJO0FBQUEsTUFQSkMsS0FPSSxRQVBKQSxLQU9JO0FBQUEsTUFOSkMsUUFNSSxRQU5KQSxRQU1JO0FBQUEsTUFMSkMsUUFLSSxRQUxKQSxRQUtJO0FBQUEsTUFKSkMsY0FJSSxRQUpKQSxjQUlJO0FBQUEsTUFISkMscUJBR0ksUUFISkEscUJBR0k7QUFBQSxNQUZKQyxvQkFFSSxRQUZKQSxvQkFFSTtBQUFBLE1BREpDLGdCQUNJLFFBREpBLGdCQUNJO0FBQ0osTUFBTUMsYUFBYSxHQUFHQyxVQUFVLENBQUMvQixtQkFBbUIsQ0FBQ2dCLEtBQUssQ0FBQ2dCLElBQVAsQ0FBcEIsQ0FBaEM7O0FBREksNEJBRStCM0Isa0JBQWtCLENBQUNXLEtBQUssQ0FBQ1YsUUFBUCxDQUZqRDtBQUFBLE1BRUlRLGVBRkosdUJBRUlBLGVBRko7QUFBQSxNQUVxQkwsS0FGckIsdUJBRXFCQSxLQUZyQjs7QUFHSixNQUFJQSxLQUFKLEVBQVc7QUFDVE8sSUFBQUEsS0FBSyxDQUFDVixRQUFOLEdBQWlCUSxlQUFqQjtBQUNBRSxJQUFBQSxLQUFLLENBQUNQLEtBQU4sR0FBY0EsS0FBZDtBQUNEOztBQUVELFNBQ0UsZ0NBQUMsYUFBRDtBQUNFLElBQUEsR0FBRyxFQUFFTyxLQUFLLENBQUNpQixFQURiO0FBRUUsSUFBQSxLQUFLLEVBQUVqQixLQUZUO0FBR0UsSUFBQSxLQUFLLEVBQUVDLFVBQVUsQ0FBQ0QsS0FBSyxDQUFDaUIsRUFBUCxDQUFWLEdBQXVCaEIsVUFBVSxDQUFDRCxLQUFLLENBQUNpQixFQUFQLENBQVYsQ0FBcUJDLEtBQTVDLEdBQW9EbEIsS0FBSyxDQUFDbUIsWUFIbkU7QUFJRSxJQUFBLFVBQVUsRUFBRSxvQkFBQ0MsS0FBRCxFQUFRcEIsS0FBUjtBQUFBLGFBQWtCTSxXQUFVLENBQUNjLEtBQUQsRUFBUXBCLEtBQVIsQ0FBNUI7QUFBQSxLQUpkO0FBS0UsSUFBQSxpQkFBaUIsRUFBRUMsVUFBVSxDQUFDRCxLQUFLLENBQUNpQixFQUFQLENBQVYsR0FBdUJoQixVQUFVLENBQUNELEtBQUssQ0FBQ2lCLEVBQVAsQ0FBVixDQUFxQkksS0FBNUMsR0FBb0QsS0FMekU7QUFNRSxJQUFBLFlBQVksRUFBRW5CLFlBTmhCO0FBT0UsSUFBQSxhQUFhLEVBQUVDLGFBUGpCO0FBUUUsSUFBQSxPQUFPLEVBQUVFLE9BQU8sQ0FBQ0wsS0FBSyxDQUFDaUIsRUFBUCxDQVJsQjtBQVNFLElBQUEsVUFBVSxFQUFFYixVQVRkO0FBVUUsSUFBQSxLQUFLLEVBQUVHLEtBVlQ7QUFXRSxJQUFBLFFBQVEsRUFBRUMsUUFYWjtBQVlFLElBQUEsUUFBUSxFQUFFQyxRQVpaO0FBYUUsSUFBQSxjQUFjLEVBQUVDLGNBYmxCO0FBY0UsSUFBQSxTQUFTLEVBQUVULFVBQVUsQ0FBQ0QsS0FBSyxDQUFDaUIsRUFBUCxDQUFWLEdBQXVCaEIsVUFBVSxDQUFDRCxLQUFLLENBQUNpQixFQUFQLENBQVYsQ0FBcUJLLFNBQTVDLEdBQXdELEtBZHJFO0FBZUUsSUFBQSxvQkFBb0IsRUFDbEJ0QixLQUFLLENBQUNnQixJQUFOLEtBQWUsTUFBZixJQUF5QmhCLEtBQUssQ0FBQ1YsUUFBTixDQUFlWCxPQUFmLENBQXVCLFdBQXZCLE1BQXdDLENBQUMsQ0FBbEUsR0FDSTtBQUFFc0IsTUFBQUEsVUFBVSxFQUFWQSxVQUFGO0FBQWNXLE1BQUFBLG9CQUFvQixFQUFwQkE7QUFBZCxLQURKLEdBRUksS0FsQlI7QUFvQkUsSUFBQSxnQkFBZ0IsRUFBRUM7QUFwQnBCLElBREY7QUF3QkQsQ0EvQ0Q7O2VBaURlZCxXIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIEZvcm1GaWVsZHMgZnJvbSAnLi4vRmllbGRzJztcblxuY29uc3QgZnJhYzJkZWMgPSAoZnJhY3Rpb24pID0+IHtcbiAgLyogYXNzdW1lcyBmcmFjdGlvbiBpcyBpbiB0aGUgZm9ybSAgMS0xLzIgb3IgMSAxLzIgKi9cbiAgLyogZG9lc24ndCB3b3JrIG9uIG5lZ2F0aXZlIG51bWJlcnMgKi9cbiAgbGV0IGZyYWN0aW9uUGFydHMgPSBmcmFjdGlvbi5zcGxpdCgnLScpO1xuICBpZiAoZnJhY3Rpb25QYXJ0cy5sZW5ndGggPT09IDEpIHtcbiAgICAvKiB0cnkgc3BhY2UgYXMgZGl2aWRlciAqL1xuICAgIGZyYWN0aW9uUGFydHMgPSBmcmFjdGlvbi5zcGxpdCgnICcpO1xuICB9XG5cbiAgaWYgKGZyYWN0aW9uUGFydHMubGVuZ3RoID4gMSAmJiBmcmFjdGlvbi5pbmRleE9mKCcvJykgIT09IC0xKSB7XG4gICAgY29uc3QgaW50ZWdlciA9IHBhcnNlSW50KGZyYWN0aW9uUGFydHNbMF0pO1xuICAgIGNvbnN0IGRlY2ltYWxQYXJ0cyA9IGZyYWN0aW9uUGFydHNbMV0uc3BsaXQoJy8nKTtcbiAgICBjb25zdCBkZWNpbWFsID0gcGFyc2VJbnQoZGVjaW1hbFBhcnRzWzBdKSAvIHBhcnNlSW50KGRlY2ltYWxQYXJ0c1sxXSk7XG5cbiAgICByZXR1cm4gaW50ZWdlciArIGRlY2ltYWw7XG4gIH1cbiAgaWYgKGZyYWN0aW9uLmluZGV4T2YoJy8nKSAhPT0gLTEpIHtcbiAgICBjb25zdCBkZWNpbWFsUGFydHMgPSBmcmFjdGlvbi5zcGxpdCgnLycpO1xuICAgIGNvbnN0IGRlY2ltYWwgPSBwYXJzZUludChkZWNpbWFsUGFydHNbMF0pIC8gcGFyc2VJbnQoZGVjaW1hbFBhcnRzWzFdKTtcbiAgICByZXR1cm4gZGVjaW1hbDtcbiAgfVxuICByZXR1cm4gcGFyc2VJbnQoZnJhY3Rpb24pO1xufTtcblxuY29uc3QgZm9ybWF0Q29tcG9uZW50TmFtZSA9IHN0cmluZyA9PiBzdHJpbmcuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSk7XG5jb25zdCBmb3JtYXRXaWR0aEZyb21Dc3MgPSAoY3NzQ2xhc3MpID0+IHtcbiAgaWYgKCFjc3NDbGFzcykgcmV0dXJuIHt9O1xuICBjb25zdCB3aWR0aFN0YXJ0cyA9IGNzc0NsYXNzLmluZGV4T2YoJ1snKTtcbiAgY29uc3Qgd2lkdGhFbmRzID0gY3NzQ2xhc3MuaW5kZXhPZignXScpO1xuXG4gIGlmICh3aWR0aFN0YXJ0cyA9PT0gLTEgfHwgd2lkdGhFbmRzID09PSAtMSkge1xuICAgIHJldHVybiB7fTtcbiAgfVxuXG4gIGNvbnN0IHdpZHRoID0gY3NzQ2xhc3NcbiAgICAuc3Vic3RyaW5nKHdpZHRoU3RhcnRzICsgMSwgd2lkdGhFbmRzKVxuICAgIC5zcGxpdCgnLCcpXG4gICAgLm1hcChpdGVtID0+IGZyYWMyZGVjKGl0ZW0ucmVwbGFjZSgvXFxzL2csICcnKSkpO1xuXG4gIGNvbnN0IGNsZWFuZWRDc3NDbGFzcyA9IGAke2Nzc0NsYXNzLnJlcGxhY2UoXG4gICAgY3NzQ2xhc3Muc3Vic3RyaW5nKHdpZHRoU3RhcnRzLCB3aWR0aEVuZHMgKyAxKSxcbiAgICAnJyxcbiAgKX0gY3VzdG9tLXdpZHRoYDtcblxuICByZXR1cm4ge1xuICAgIHdpZHRoLFxuICAgIGNsZWFuZWRDc3NDbGFzcyxcbiAgfTtcbn07XG5cbmNvbnN0IFJlbmRlckZpZWxkID0gKHtcbiAgZmllbGQsXG4gIGZvcm1WYWx1ZXMsXG4gIHN1Ym1pdEZhaWxlZCxcbiAgc3VibWl0U3VjY2VzcyxcbiAgc2V0VG91Y2hlZCxcbiAgdG91Y2hlZCxcbiAgdXBkYXRlRm9ybSxcbiAgcGFnZXMsXG4gIHByZXZTdGVwLFxuICBuZXh0U3RlcCxcbiAgaXNOZXh0RGlzYWJsZWQsXG4gIGNoZWNrQ29uZGl0aW9uYWxMb2dpYyxcbiAgc2F2ZVN0YXRlVG9IdG1sRmllbGQsXG4gIHN0eWxlZENvbXBvbmVudHMsXG59KSA9PiB7XG4gIGNvbnN0IEZvcm1Db21wb25lbnQgPSBGb3JtRmllbGRzW2Zvcm1hdENvbXBvbmVudE5hbWUoZmllbGQudHlwZSldO1xuICBjb25zdCB7IGNsZWFuZWRDc3NDbGFzcywgd2lkdGggfSA9IGZvcm1hdFdpZHRoRnJvbUNzcyhmaWVsZC5jc3NDbGFzcyk7XG4gIGlmICh3aWR0aCkge1xuICAgIGZpZWxkLmNzc0NsYXNzID0gY2xlYW5lZENzc0NsYXNzO1xuICAgIGZpZWxkLndpZHRoID0gd2lkdGg7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxGb3JtQ29tcG9uZW50XG4gICAgICBrZXk9e2ZpZWxkLmlkfVxuICAgICAgZmllbGQ9e2ZpZWxkfVxuICAgICAgdmFsdWU9e2Zvcm1WYWx1ZXNbZmllbGQuaWRdID8gZm9ybVZhbHVlc1tmaWVsZC5pZF0udmFsdWUgOiBmaWVsZC5kZWZhdWx0VmFsdWV9XG4gICAgICB1cGRhdGVGb3JtPXsoZXZlbnQsIGZpZWxkKSA9PiB1cGRhdGVGb3JtKGV2ZW50LCBmaWVsZCl9XG4gICAgICB2YWxpZGF0aW9uTWVzc2FnZT17Zm9ybVZhbHVlc1tmaWVsZC5pZF0gPyBmb3JtVmFsdWVzW2ZpZWxkLmlkXS52YWxpZCA6IGZhbHNlfVxuICAgICAgc3VibWl0RmFpbGVkPXtzdWJtaXRGYWlsZWR9XG4gICAgICBzdWJtaXRTdWNjZXNzPXtzdWJtaXRTdWNjZXNzfVxuICAgICAgdG91Y2hlZD17dG91Y2hlZFtmaWVsZC5pZF19XG4gICAgICBzZXRUb3VjaGVkPXtzZXRUb3VjaGVkfVxuICAgICAgcGFnZXM9e3BhZ2VzfVxuICAgICAgcHJldlN0ZXA9e3ByZXZTdGVwfVxuICAgICAgbmV4dFN0ZXA9e25leHRTdGVwfVxuICAgICAgaXNOZXh0RGlzYWJsZWQ9e2lzTmV4dERpc2FibGVkfVxuICAgICAgaGlkZUZpZWxkPXtmb3JtVmFsdWVzW2ZpZWxkLmlkXSA/IGZvcm1WYWx1ZXNbZmllbGQuaWRdLmhpZGVGaWVsZCA6IGZhbHNlfVxuICAgICAgc2F2ZVN0YXRlVG9IdG1sRmllbGQ9e1xuICAgICAgICBmaWVsZC50eXBlID09PSAnaHRtbCcgJiYgZmllbGQuY3NzQ2xhc3MuaW5kZXhPZignc2V0LXN0YXRlJykgIT09IC0xXG4gICAgICAgICAgPyB7IGZvcm1WYWx1ZXMsIHNhdmVTdGF0ZVRvSHRtbEZpZWxkIH1cbiAgICAgICAgICA6IGZhbHNlXG4gICAgICB9XG4gICAgICBzdHlsZWRDb21wb25lbnRzPXtzdHlsZWRDb21wb25lbnRzfVxuICAgIC8+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBSZW5kZXJGaWVsZDtcbiJdfQ==