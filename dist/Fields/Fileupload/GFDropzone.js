"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireWildcard(require("react")),_reactDropzone=require("react-dropzone"),_jsxRuntime=require("react/jsx-runtime");function _getRequireWildcardCache(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(_getRequireWildcardCache=function(a){return a?c:b})(a)}function _interopRequireWildcard(b,c){if(!c&&b&&b.__esModule)return b;if(null===b||"object"!=typeof b&&"function"!=typeof b)return{default:b};var d=_getRequireWildcardCache(c);if(d&&d.has(b))return d.get(b);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in b)if("default"!=a&&Object.prototype.hasOwnProperty.call(b,a)){var g=f?Object.getOwnPropertyDescriptor(b,a):null;g&&(g.get||g.set)?Object.defineProperty(e,a,g):e[a]=b[a]}return e.default=b,d&&d.set(b,e),e}function Accept({dropzoneText:a,...b}){const{field:c}=b,{defaultValue:d}=c||[],[e,f]=(0,_react.useState)(d?[d]:[]),[g,h]=(0,_react.useState)("dropzone"),{getRootProps:i,getInputProps:j,isDragActive:k,isDragAccept:l,isDragReject:m}=(0,_reactDropzone.useDropzone)({accept:"image/*",onDrop:a=>{const{id:c,formID:d,field:e,isRequired:g,updateForm:h,setTouched:i,unsetError:j}=b;f(a.map(a=>Object.assign(a,{preview:URL.createObjectURL(a)}))),h(a,e),i(c),j(c)},onDragOver:()=>{h("dropzone over")},onDragLeave:()=>{h("dropzone")},onDropAccepted:()=>{h("dropzone")}}),n=e&&0<!!e.length&&e.map(a=>(0,_jsxRuntime.jsx)("div",{children:(0,_jsxRuntime.jsx)("div",{children:(0,_jsxRuntime.jsx)("img",{src:a.preview})})},a.name)),{id:o,formID:p,isRequired:q}=b;(0,_react.useEffect)(()=>()=>{e.forEach(a=>URL.revokeObjectURL(a.preview))},[e]);return(0,_jsxRuntime.jsx)("div",{className:"container",children:(0,_jsxRuntime.jsxs)("div",{...i({className:g}),children:[(0,_jsxRuntime.jsx)("input",{id:`input_${p}_${o}`,name:`input_${o}`,type:"file",required:q,...j()}),n&&(0,_jsxRuntime.jsx)("div",{className:"preview",children:n}),(0,_jsxRuntime.jsx)("p",{dangerouslySetInnerHTML:{__html:a||"Drag 'n' drop some files here, or click to select files"}})]})})}var _default=exports.default=Accept;