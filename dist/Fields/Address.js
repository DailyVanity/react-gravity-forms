"use strict";var _interopRequireWildcard3=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _interopRequireWildcard2=_interopRequireDefault(require("@babel/runtime/helpers/interopRequireWildcard")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),_react=_interopRequireWildcard3(require("react")),_reactSelect=_interopRequireDefault(require("react-select")),_InputLabel=_interopRequireDefault(require("../FormElements/InputLabel")),_default=function(a){function b(){Promise.resolve().then(function(){return(0,_interopRequireWildcard2["default"])(require("i18n-iso-countries"))}).then(function(a){a.registerLocale(require("i18n-iso-countries/langs/".concat(o?o:"en",".json")));var b=Object.values(a.getNames(o?o:"en",{select:"official"})).map(function(b){return b}).sort(function(c,a){return c.localeCompare(a)});console.log("names",b),G(b)})["catch"](function(a){return console.log(a)})}var c=a.field,d=a.value,e=a.validationMessage,f=a.touched,g=a.setTouched,h=a.hideField,i=a.updateForm,j=a.styledComponents,k=a.error,l=a.unsetError,m=a.setFocusClass,n=a.cssClass,o=a.language,p=(0,_objectWithoutProperties2["default"])(a,["field","value","validationMessage","touched","setTouched","hideField","updateForm","styledComponents","error","unsetError","setFocusClass","cssClass","language"]),q=c.id,r=c.formId,s=c.type,t=c.label,u=c.placeholder,v=c.isRequired,w=c.inputs,x=c.maxLength,y=c.description,z=c.descriptionPlacement,A=c.labelPlacement,B=c.width,C=c.customName,D=(0,_react.useState)([]),E=(0,_slicedToArray2["default"])(D,2),F=E[0],G=E[1],H=j||!1,I=H.Input,J=void 0===I?"input":I,K=H.Label,L=void 0===K?"label":K,M=H.Box,N=void 0===M?"div":M,O=H.ReactSelect,P=O||_reactSelect["default"],Q=function(a){var b=a&&a.target?a:{target:{value:a}};i(b,c)};return(0,_react.useEffect)(function(){b()},[]),_react["default"].createElement(N,{width:B,className:e&&f||k?"form-field error ".concat(n):"form-field ".concat(n),style:{display:h?"none":void 0}},null===w||void 0===w?void 0:w.map(function(a,b){return!a.isHidden&&_react["default"].createElement("div",{className:s,key:a.id},_react["default"].createElement(_InputLabel["default"],{formId:r,id:a.id,label:a.label,labelPlacement:A,isRequired:v,styledComponent:j}),"above"===z&&y&&_react["default"].createElement("div",{className:"description"},y),5===b&&F?_react["default"].createElement(P,{onChange:function onChange(b){Q(b),l(a.id)},onBlur:function onBlur(b){i(b,c),g(a.id),m(""!==d)},onFocus:function onFocus(){return m(!0)},options:F.map(function(a){return{label:a,value:a}})},F.map(function(a){return _react["default"].createElement("option",{value:a},a)})):_react["default"].createElement(J,{id:"input_".concat(r,"_").concat(a.id),key:a.id,name:C||"input_".concat(a.id),type:s,value:d?d[a.id]:"",placeholder:a.placeholder,maxLength:x,required:v,onChange:function onChange(b){i(b,c,a.id),l(a.id)},onBlur:function onBlur(b){i(b,c),g(a.id),m(""!==d)},onFocus:function onFocus(){return m(!0)},"aria-label":a.label,"aria-describedby":"error_".concat(r,"_").concat(a.id),"aria-invalid":!!e&&f||!!k}),"above"!==z&&y&&_react["default"].createElement("div",{className:"description"},y),(e&&f||k)&&_react["default"].createElement("span",{className:"error-message",id:"error_".concat(r,"_").concat(q)},e||k))}))};exports["default"]=_default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9GaWVsZHMvQWRkcmVzcy5qc3giXSwibmFtZXMiOlsiZ2V0Q291bnRyaWVzIiwidGhlbiIsImNvdW50cmllcyIsInJlZ2lzdGVyTG9jYWxlIiwicmVxdWlyZSIsImxhbmd1YWdlIiwibmFtZXMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJnZXROYW1lcyIsInNlbGVjdCIsIm1hcCIsImEiLCJzb3J0IiwiYiIsImxvY2FsZUNvbXBhcmUiLCJjb25zb2xlIiwibG9nIiwic2V0TmFtZXMiLCJlcnJvciIsImZpZWxkIiwidmFsdWUiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInRvdWNoZWQiLCJzZXRUb3VjaGVkIiwiaGlkZUZpZWxkIiwidXBkYXRlRm9ybSIsInN0eWxlZENvbXBvbmVudHMiLCJ1bnNldEVycm9yIiwic2V0Rm9jdXNDbGFzcyIsImNzc0NsYXNzIiwicHJvcHMiLCJpZCIsImZvcm1JZCIsInR5cGUiLCJsYWJlbCIsInBsYWNlaG9sZGVyIiwiaXNSZXF1aXJlZCIsImlucHV0cyIsIm1heExlbmd0aCIsImRlc2NyaXB0aW9uIiwiZGVzY3JpcHRpb25QbGFjZW1lbnQiLCJsYWJlbFBsYWNlbWVudCIsIndpZHRoIiwiY3VzdG9tTmFtZSIsImNvdW50cnlOYW1lcyIsIklucHV0IiwiTGFiZWwiLCJCb3giLCJSZWFjdFNlbGVjdCIsIlJTZWxlY3QiLCJTZWxlY3QiLCJoYW5kbGVDaGFuZ2UiLCJvcHRpb24iLCJldmVudCIsInRhcmdldCIsImRpc3BsYXkiLCJpbnB1dCIsImtleSIsImlzSGlkZGVuIiwiaXRlbSIsImNvdW50cnkiXSwibWFwcGluZ3MiOiJ1dkJBSWUsV0FlVCxDQW1CSixRQUFTQSxDQUFBQSxDQUFULEVBQXdCLENBRXRCLHdGQUFPLG9CQUFQLEtBQ0dDLElBREgsQ0FDUSxTQUFBQyxDQUFTLENBQUksQ0FDakJBLENBQVMsQ0FBQ0MsY0FBVixDQUNFQyxPQUFPLG9DQUE2QkMsQ0FBUSxDQUFHQSxDQUFILENBQWMsSUFBbkQsVUFEVCxD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WTRCLENBQUssQ0FBQ3RCLEtBbkJwQixDQW9CRSxtQ0FBMkJGLENBQTNCLGFBQXFDd0IsQ0FBSyxDQUFDekIsRUFBM0MsQ0FwQkYsQ0FxQkUsZUFBZSxDQUFDLENBQUNWLENBQUYsRUFBdUJDLENBQXhCLEVBQW9DLENBQUMsQ0FBQ0osQ0FyQnRELEVBakNKLENBeUQ0QixPQUF6QixHQUFBc0IsQ0FBb0IsRUFBZ0JELENBQXBDLEVBQ0MsdUNBQUssU0FBUyxDQUFDLGFBQWYsRUFBOEJBLENBQTlCLENBMURKLENBNERHLENBQUVsQixDQUFpQixFQUFJQyxDQUF0QixFQUFrQ0osQ0FBbkMsR0FDQyx3Q0FBTSxTQUFTLENBQUMsZUFBaEIsQ0FBZ0MsRUFBRSxpQkFBV2MsQ0FBWCxhQUFxQkQsQ0FBckIsQ0FBbEMsRUFDR1YsQ0FBaUIsRUFBSUgsQ0FEeEIsQ0E3REosQ0FGSixDQURELENBVEgsQ0FrRkgsQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgU2VsZWN0IGZyb20gXCJyZWFjdC1zZWxlY3RcIjtcbmltcG9ydCBJbnB1dExhYmVsIGZyb20gXCIuLi9Gb3JtRWxlbWVudHMvSW5wdXRMYWJlbFwiO1xuXG5leHBvcnQgZGVmYXVsdCAoe1xuICBmaWVsZCxcbiAgdmFsdWUsXG4gIHZhbGlkYXRpb25NZXNzYWdlLFxuICB0b3VjaGVkLFxuICBzZXRUb3VjaGVkLFxuICBoaWRlRmllbGQsXG4gIHVwZGF0ZUZvcm0sXG4gIHN0eWxlZENvbXBvbmVudHMsXG4gIGVycm9yLFxuICB1bnNldEVycm9yLFxuICBzZXRGb2N1c0NsYXNzLFxuICBjc3NDbGFzcyxcbiAgbGFuZ3VhZ2UsXG4gIC4uLnByb3BzXG59KSA9PiB7XG4gIGNvbnN0IHtcbiAgICBpZCxcbiAgICBmb3JtSWQsXG4gICAgdHlwZSxcbiAgICBsYWJlbCxcbiAgICBwbGFjZWhvbGRlcixcbiAgICBpc1JlcXVpcmVkLFxuICAgIGlucHV0cyxcbiAgICBtYXhMZW5ndGgsXG4gICAgZGVzY3JpcHRpb24sXG4gICAgZGVzY3JpcHRpb25QbGFjZW1lbnQsXG4gICAgbGFiZWxQbGFjZW1lbnQsXG4gICAgd2lkdGgsXG4gICAgY3VzdG9tTmFtZSxcbiAgfSA9IGZpZWxkO1xuXG4gIGNvbnN0IFtjb3VudHJ5TmFtZXMsIHNldE5hbWVzXSA9IHVzZVN0YXRlKFtdKTtcblxuICBmdW5jdGlvbiBnZXRDb3VudHJpZXMoKSB7XG4gICAgLy8gRHluYW1pYyBpbXBvcnRcbiAgICBpbXBvcnQoXCJpMThuLWlzby1jb3VudHJpZXNcIilcbiAgICAgIC50aGVuKGNvdW50cmllcyA9PiB7XG4gICAgICAgIGNvdW50cmllcy5yZWdpc3RlckxvY2FsZShcbiAgICAgICAgICByZXF1aXJlKGBpMThuLWlzby1jb3VudHJpZXMvbGFuZ3MvJHtsYW5ndWFnZSA/IGxhbmd1YWdlIDogXCJlblwifS5qc29uYClcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBuYW1lcyA9IE9iamVjdC52YWx1ZXMoXG4gICAgICAgICAgY291bnRyaWVzLmdldE5hbWVzKGxhbmd1YWdlID8gbGFuZ3VhZ2UgOiBcImVuXCIsIHsgc2VsZWN0OiBcIm9mZmljaWFsXCIgfSlcbiAgICAgICAgKVxuICAgICAgICAgIC5tYXAoYSA9PiBhKVxuICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBhLmxvY2FsZUNvbXBhcmUoYikpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKFwibmFtZXNcIiwgbmFtZXMpO1xuXG4gICAgICAgIHNldE5hbWVzKG5hbWVzKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5sb2coZXJyb3IpKTtcbiAgfVxuXG4gIGNvbnN0IHtcbiAgICBJbnB1dCA9IFwiaW5wdXRcIixcbiAgICBMYWJlbCA9IFwibGFiZWxcIixcbiAgICBCb3ggPSBcImRpdlwiLFxuICAgIFJlYWN0U2VsZWN0LFxuICB9ID0gc3R5bGVkQ29tcG9uZW50cyB8fCBmYWxzZTtcblxuICBjb25zdCBSU2VsZWN0ID0gUmVhY3RTZWxlY3QgfHwgU2VsZWN0O1xuXG4gIGNvbnN0IGhhbmRsZUNoYW5nZSA9IG9wdGlvbiA9PiB7XG4gICAgY29uc3QgZXZlbnQgPVxuICAgICAgb3B0aW9uICYmIG9wdGlvbi50YXJnZXRcbiAgICAgICAgPyBvcHRpb25cbiAgICAgICAgOiB7XG4gICAgICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICAgICAgdmFsdWU6IG9wdGlvbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICB1cGRhdGVGb3JtKGV2ZW50LCBmaWVsZCk7XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBnZXRDb3VudHJpZXMoKTtcbiAgfSwgW10pO1xuXG4gIHJldHVybiAoXG4gICAgPEJveFxuICAgICAgd2lkdGg9e3dpZHRofVxuICAgICAgY2xhc3NOYW1lPXtcbiAgICAgICAgKHZhbGlkYXRpb25NZXNzYWdlICYmIHRvdWNoZWQpIHx8IGVycm9yXG4gICAgICAgICAgPyBgZm9ybS1maWVsZCBlcnJvciAke2Nzc0NsYXNzfWBcbiAgICAgICAgICA6IGBmb3JtLWZpZWxkICR7Y3NzQ2xhc3N9YFxuICAgICAgfVxuICAgICAgc3R5bGU9e3sgZGlzcGxheTogaGlkZUZpZWxkID8gXCJub25lXCIgOiB1bmRlZmluZWQgfX1cbiAgICA+XG4gICAgICB7aW5wdXRzPy5tYXAoXG4gICAgICAgIChpbnB1dCwga2V5KSA9PlxuICAgICAgICAgICFpbnB1dC5pc0hpZGRlbiAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17dHlwZX0ga2V5PXtpbnB1dC5pZH0+XG4gICAgICAgICAgICAgIDxJbnB1dExhYmVsXG4gICAgICAgICAgICAgICAgZm9ybUlkPXtmb3JtSWR9XG4gICAgICAgICAgICAgICAgaWQ9e2lucHV0LmlkfVxuICAgICAgICAgICAgICAgIGxhYmVsPXtpbnB1dC5sYWJlbH1cbiAgICAgICAgICAgICAgICBsYWJlbFBsYWNlbWVudD17bGFiZWxQbGFjZW1lbnR9XG4gICAgICAgICAgICAgICAgaXNSZXF1aXJlZD17aXNSZXF1aXJlZH1cbiAgICAgICAgICAgICAgICBzdHlsZWRDb21wb25lbnQ9e3N0eWxlZENvbXBvbmVudHN9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIHtkZXNjcmlwdGlvblBsYWNlbWVudCA9PT0gXCJhYm92ZVwiICYmIGRlc2NyaXB0aW9uICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRlc2NyaXB0aW9uXCI+e2Rlc2NyaXB0aW9ufTwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICB7a2V5ID09PSA1ICYmIGNvdW50cnlOYW1lcyA/IChcbiAgICAgICAgICAgICAgICA8UlNlbGVjdFxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2V2ZW50ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlQ2hhbmdlKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgdW5zZXRFcnJvcihpbnB1dC5pZCk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgb25CbHVyPXtldmVudCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUZvcm0oZXZlbnQsIGZpZWxkKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VG91Y2hlZChpbnB1dC5pZCk7XG4gICAgICAgICAgICAgICAgICAgIHNldEZvY3VzQ2xhc3ModmFsdWUgIT09IFwiXCIpO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIG9uRm9jdXM9eygpID0+IHNldEZvY3VzQ2xhc3ModHJ1ZSl9XG4gICAgICAgICAgICAgICAgICBvcHRpb25zPXtjb3VudHJ5TmFtZXMubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBsYWJlbDogaXRlbSwgdmFsdWU6IGl0ZW0gfTtcbiAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtjb3VudHJ5TmFtZXMubWFwKGNvdW50cnkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPXtjb3VudHJ5fT57Y291bnRyeX08L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvUlNlbGVjdD5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgIGlkPXtgaW5wdXRfJHtmb3JtSWR9XyR7aW5wdXQuaWR9YH1cbiAgICAgICAgICAgICAgICAgIGtleT17aW5wdXQuaWR9XG4gICAgICAgICAgICAgICAgICBuYW1lPXtjdXN0b21OYW1lIHx8IGBpbnB1dF8ke2lucHV0LmlkfWB9XG4gICAgICAgICAgICAgICAgICB0eXBlPXt0eXBlfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9eyF2YWx1ZSA/IFwiXCIgOiB2YWx1ZVtpbnB1dC5pZF19XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17aW5wdXQucGxhY2Vob2xkZXJ9XG4gICAgICAgICAgICAgICAgICBtYXhMZW5ndGg9e21heExlbmd0aH1cbiAgICAgICAgICAgICAgICAgIHJlcXVpcmVkPXtpc1JlcXVpcmVkfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2V2ZW50ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlRm9ybShldmVudCwgZmllbGQsIGlucHV0LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgdW5zZXRFcnJvcihpbnB1dC5pZCk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgb25CbHVyPXtldmVudCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUZvcm0oZXZlbnQsIGZpZWxkKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VG91Y2hlZChpbnB1dC5pZCk7XG4gICAgICAgICAgICAgICAgICAgIHNldEZvY3VzQ2xhc3ModmFsdWUgIT09IFwiXCIpO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIG9uRm9jdXM9eygpID0+IHNldEZvY3VzQ2xhc3ModHJ1ZSl9XG4gICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtpbnB1dC5sYWJlbH1cbiAgICAgICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9e2BlcnJvcl8ke2Zvcm1JZH1fJHtpbnB1dC5pZH1gfVxuICAgICAgICAgICAgICAgICAgYXJpYS1pbnZhbGlkPXsoISF2YWxpZGF0aW9uTWVzc2FnZSAmJiB0b3VjaGVkKSB8fCAhIWVycm9yfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIHtkZXNjcmlwdGlvblBsYWNlbWVudCAhPT0gXCJhYm92ZVwiICYmIGRlc2NyaXB0aW9uICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRlc2NyaXB0aW9uXCI+e2Rlc2NyaXB0aW9ufTwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICB7KCh2YWxpZGF0aW9uTWVzc2FnZSAmJiB0b3VjaGVkKSB8fCBlcnJvcikgJiYgKFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImVycm9yLW1lc3NhZ2VcIiBpZD17YGVycm9yXyR7Zm9ybUlkfV8ke2lkfWB9PlxuICAgICAgICAgICAgICAgICAge3ZhbGlkYXRpb25NZXNzYWdlIHx8IGVycm9yfVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIClcbiAgICAgICl9XG4gICAgPC9Cb3g+XG4gICk7XG59O1xuIl19