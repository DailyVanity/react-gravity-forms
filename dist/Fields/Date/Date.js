"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireWildcard(require("react")),_DatePicker=_interopRequireDefault(require("./DatePicker")),_DateSelect=_interopRequireDefault(require("./DateSelect")),_DateInput=_interopRequireDefault(require("./DateInput")),_InputLabel=_interopRequireDefault(require("../../FormElements/InputLabel")),_jsxRuntime=require("react/jsx-runtime");function _getRequireWildcardCache(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(_getRequireWildcardCache=function(a){return a?c:b})(a)}function _interopRequireWildcard(b,c){if(!c&&b&&b.__esModule)return b;if(null===b||"object"!=typeof b&&"function"!=typeof b)return{default:b};var d=_getRequireWildcardCache(c);if(d&&d.has(b))return d.get(b);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in b)if("default"!=a&&Object.prototype.hasOwnProperty.call(b,a)){var g=f?Object.getOwnPropertyDescriptor(b,a):null;g&&(g.get||g.set)?Object.defineProperty(e,a,g):e[a]=b[a]}return e.default=b,d&&d.set(b,e),e}var _default=({field:a,value:b,validationMessage:c,touched:d,setTouched:e,hideField:f,updateForm:g,styledComponents:h,error:i,unsetError:j,setFocusClass:k,cssClass:l,...m})=>{const{id:n,formId:o,type:p,label:q,isRequired:r,description:s,descriptionPlacement:t,labelPlacement:u,width:v,inputs:w,dateType:x,dateFormat:y,defaultValue:z}=a,{Box:A="div"}=h||!1,B=!!(y&&"dmy"===y)&&"dd/MM/yyyy";let C=!!z&&new Date(z);if(B&&z){const a=-1<z.indexOf("/"),b=a?z.split("/"):z.split("-"),c=a?new Date(+b[2],b[1]-1,+b[0]):b;C=c}const[D,E]=(0,_react.useState)(C),F=(a=>{if(x){if("datefield"===x)return"dmy"===y||"dmy_dash"===y||"dmy_dot"===y?[a[1],a[0],a[2]]:"ymd_slash"===y||"ymd_dash"===y||"ymd_dot"===y?[a[2],a[0],a[1]]:a;if("datedropdown"===x)return[a[1],a[0],a[2]]}return a})(w),G={id:n,field:a,isRequired:r,format:B,formattedInputs:F,updateForm:g,startDate:D,setTouched:e,setDate:E,setFocusClass:k,error:i,unsetError:j,validationMessage:c,styledComponents:h,touched:d,...m};return(0,_jsxRuntime.jsxs)(A,{width:v,className:c&&d||i?`form-field error ${l}`:`form-field ${l}`,style:{display:f?"none":void 0},children:[(0,_jsxRuntime.jsx)(_InputLabel.default,{formId:o,id:n,label:q,labelPlacement:u,isRequired:r,styledComponent:h}),(0,_jsxRuntime.jsxs)("div",{className:p,children:["above"===t&&s&&(0,_jsxRuntime.jsx)("div",{className:"description",dangerouslySetInnerHTML:{__html:s}}),x&&(a=>"datepicker"===a?(0,_jsxRuntime.jsx)(_DatePicker.default,{defaultProps:G}):"datedropdown"===a?(0,_jsxRuntime.jsx)(_DateSelect.default,{defaultProps:G}):(0,_jsxRuntime.jsx)(_DateInput.default,{defaultProps:G}))(x),"above"!==t&&s&&(0,_jsxRuntime.jsx)("div",{className:"description",dangerouslySetInnerHTML:{__html:s}})]})]})};exports.default=_default;