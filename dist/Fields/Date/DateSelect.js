"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react")),_reactSelect=_interopRequireDefault(require("react-select")),_ValidationMessage=_interopRequireDefault(require("../../FormElements/ValidationMessage")),_jsxRuntime=require("react/jsx-runtime"),_default=({defaultProps:a})=>{const{field:b,value:c,validationMessage:d,touched:e,setTouched:f,updateForm:g,error:h,unsetError:i,setFocusClass:j,setDate:k,startDate:l,styledComponents:m,formattedInputs:n,...o}=a,{id:p,isRequired:q,formId:r,type:s,customName:t}=b,u=_reactSelect.default||"select",v=a=>{const b=[],c=0,d=1,e=a===c||a===d?1:1920,f=a===c?31:a===d?12:new Date().getFullYear(),g=a===c?1:a===d?3:0,h=e<f?1:-1;for(let c=e;c!==f+h;c+=h)b.push({value:c,label:c,selected:parseInt(c)===parseInt(g)});return b},w=(a,b,c)=>{const d=l||[],e=0===c?2:2===c?0:1;d[e]=a.value,k(d);const f={target:{value:a.value}};g(f,b)},x=a=>{if(l){const b=0===a?2:1===a?1:0;return l[b]?{value:l[b],label:l[b]}:void 0}};return(0,_jsxRuntime.jsxs)(_jsxRuntime.Fragment,{children:[n&&n.map((a,c)=>(0,_jsxRuntime.jsx)("div",{className:"gfield_date_dropdown",children:(0,_jsxRuntime.jsx)(u,{required:q,placeholder:a.placeholder,options:v(c),value:x(c),id:`input_${r}_${p}_${c+1}`,name:t||`input_${p}[]`,onBlur:()=>{const d=x(c);if(!d){const d={...b,subId:c,dateLabel:a.label};w({value:""},d,c)}f(p),i(p),j(""!==a.value)},onChange:d=>{const e={...b,subId:c,dateLabel:a.label};w(d,e,c),i(p)},onFocus:()=>j(!0)})},a.id)),(d&&e||h)&&(0,_jsxRuntime.jsx)(_ValidationMessage.default,{validationMessage:d,error:h,id:p})]})};exports.default=_default;