"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _react=_interopRequireWildcard(require("react")),_InputLabel=_interopRequireDefault(require("../FormElements/InputLabel"));function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var a=new WeakMap;return _getRequireWildcardCache=function(){return a},a}function _interopRequireWildcard(a){if(a&&a.__esModule)return a;if(null===a||"object"!==_typeof(a)&&"function"!=typeof a)return{default:a};var b=_getRequireWildcardCache();if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}return c["default"]=a,b&&b.set(a,c),c}function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){return b&&("object"===_typeof(b)||"function"==typeof b)?b:_assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function formatMoney(a){var b=Math.abs,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:".",e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:",";try{c=b(c),c=isNaN(c)?2:c;var f=0>a?"-":"",g=parseInt(a=b(+a||0).toFixed(c)).toString(),h=3<g.length?g.length%3:0;return f+(h?g.substr(0,h)+e:"")+g.substr(h).replace(/(\d{3})(?=\d)/g,"$1".concat(e))+(c?d+b(a-g).toFixed(c).slice(2):"")}catch(a){console.log(a)}}var Radio=function(a){function b(){var a;_classCallCheck(this,b);for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return a=c.call.apply(c,[this].concat(e)),_defineProperty(_assertThisInitialized(a),"state",{otherValue:!1,inputValue:!1}),_defineProperty(_assertThisInitialized(a),"onFocus",function(b){var c=b.target.value,d=a.state,e=d.otherValue,f=d.inputValue;e===c&&(c=""),a.otherRadio.click(),a.otherRadio.checked=!0,a.setState({inputValue:c})}),_defineProperty(_assertThisInitialized(a),"onBlur",function(b){var c=b.target.value;""==c.replace(" ","")?(a.setState({inputValue:a.state.otherValue}),a.otherRadio.checked=!1):a.setState({inputValue:formatMoney(c)})}),_defineProperty(_assertThisInitialized(a),"onChange",function(b){var c=b.target.value;a.setState({inputValue:c})}),_defineProperty(_assertThisInitialized(a),"setFocus",function(){a.otherChoise.focus()}),a}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"render",value:function render(){var a=this,b=this.props,c=b.field,d=b.value,e=b.validationMessage,f=b.touched,g=b.setTouched,h=b.updateForm,i=b.hideField,j=b.styledComponents,k=b.error,l=b.unsetError,m=c.id,n=c.formId,o=c.type,p=c.label,q=c.cssClass,r=c.isRequired,s=c.choices,t=c.description,u=c.descriptionPlacement,v=c.labelPlacement,w=c.width,x=c.customName,y=c.otherPlaceholder,z=this.state.inputValue,A=j||!1,B=A.Radiogroup,C=void 0===B?"fieldset":B,D=A.Label,E=void 0===D?"legend":D,F=A.Box,G=void 0===F?"div":F,H=A.Input,I=void 0===H?"input":H;return _react["default"].createElement(G,{width:w,className:e&&f||k?"form-field error ".concat(q):"form-field ".concat(q),style:{display:i?"none":void 0}},_react["default"].createElement(C,{className:"radios"},_react["default"].createElement(_InputLabel["default"],{formId:n,id:m,label:p,labelPlacement:v,isRequired:r,styledComponent:j}),"above"===u&&t&&_react["default"].createElement("div",{className:"description"},t),s.map(function(a,b){return _react["default"].createElement("div",{className:o,key:a.value},_react["default"].createElement("input",{id:"input_".concat(n,"_").concat(m,"_").concat(b),type:"radio",name:x||"input_".concat(m),value:a.value,checked:d===a.value,onChange:function onChange(a){h(a,c),g(m),l(m)}}),_react["default"].createElement("label",{htmlFor:"input_".concat(n,"_").concat(m,"_").concat(b)},a.text))}),c.enableOtherChoice&&_react["default"].createElement("div",{className:"".concat(o," other-choise")},_react["default"].createElement("input",{id:"input_".concat(n,"_").concat(m,"_").concat(s.length),type:"radio",name:"input_".concat(m),value:z,onChange:function onChange(a){h(a,c),g(m),l(m)},ref:function ref(b){return a.otherRadio=b},onFocus:function onFocus(b){return a.setFocus(b)}}),_react["default"].createElement(I,{id:"input_".concat(n,"_").concat(m,"_").concat(s.length,"_other"),type:"text",placeholder:y||"Other",value:z||"",onFocus:function onFocus(b){return a.onFocus(b)},onBlur:function onBlur(b){h(b,c),a.onBlur(b)},onChange:function onChange(b){a.onChange(b),l(m)},ref:function ref(b){return a.otherChoise=b}})),"above"!==u&&t&&_react["default"].createElement("div",{className:"description"},t)),(e&&f||k)&&_react["default"].createElement("span",{className:"error-message",id:"error_".concat(n,"_").concat(m)},e||k))}}]),b}(_react.Component),_default=Radio;exports["default"]=_default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9GaWVsZHMvUmFkaW8uanN4Il0sIm5hbWVzIjpbImZvcm1hdE1vbmV5IiwiYW1vdW50IiwiTWF0aCIsImFicyIsImRlY2ltYWxDb3VudCIsImRlY2ltYWwiLCJ0aG91c2FuZHMiLCJpc05hTiIsIm5lZ2F0aXZlU2lnbiIsImkiLCJwYXJzZUludCIsInRvRml4ZWQiLCJ0b1N0cmluZyIsImoiLCJsZW5ndGgiLCJzdWJzdHIiLCJyZXBsYWNlIiwic2xpY2UiLCJlIiwiY29uc29sZSIsImxvZyIsIlJhZGlvIiwib3RoZXJWYWx1ZSIsImlucHV0VmFsdWUiLCJ2YWx1ZSIsInRhcmdldCIsInN0YXRlIiwib3RoZXJSYWRpbyIsImNsaWNrIiwiY2hlY2tlZCIsInNldFN0YXRlIiwib3RoZXJDaG9pc2UiLCJmb2N1cyIsInByb3BzIiwiZmllbGQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInRvdWNoZWQiLCJzZXRUb3VjaGVkIiwidXBkYXRlRm9ybSIsImhpZGVGaWVsZCIsInN0eWxlZENvbXBvbmVudHMiLCJlcnJvciIsInVuc2V0RXJyb3IiLCJpZCIsImZvcm1JZCIsInR5cGUiLCJsYWJlbCIsImNzc0NsYXNzIiwiaXNSZXF1aXJlZCIsImNob2ljZXMiLCJkZXNjcmlwdGlvbiIsImRlc2NyaXB0aW9uUGxhY2VtZW50IiwibGFiZWxQbGFjZW1lbnQiLCJ3aWR0aCIsImN1c3RvbU5hbWUiLCJvdGhlclBsYWNlaG9sZGVyIiwiUmFkaW9ncm91cCIsIkxhYmVsIiwiQm94IiwiSW5wdXQiLCJkaXNwbGF5IiwibWFwIiwiY2hvaWNlIiwiZXZlbnQiLCJ0ZXh0IiwiZW5hYmxlT3RoZXJDaG9pY2UiLCJzZXRGb2N1cyIsIm9uRm9jdXMiLCJvbkJsdXIiLCJvbkNoYW5nZSIsIkNvbXBvbmVudCJdLCJtYXBwaW5ncyI6IjgvRkFHQSxRQUFTQSxDQUFBQSxXQUFULENBQXFCQyxDQUFyQixDQUErRSxPQUU1REMsSUFBSSxDQUFDQyxHQUZ1RCxDQUFsREMsQ0FBa0Qs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Q0FBSSxDQUdiLENBQUksQ0FBQ21ELFFBQUwsQ0FBY25ELENBQWQsQ0FIYSxDQUlid0IsQ0FBVSxDQUFDQyxDQUFELENBQ1gsQ0FmSCxDQWdCRSxHQUFHLENBQUUsYUFBQXpCLENBQUMsUUFBSyxDQUFBLENBQUksQ0FBQ2EsV0FBTCxDQUFtQmIsQ0FBeEIsQ0FoQlIsRUFkRixDQWhDSixDQWtFNEIsT0FBekIsR0FBQWlDLENBQW9CLEVBQWdCRCxDQUFwQyxFQUFtRCx1Q0FBSyxTQUFTLENBQUMsYUFBZixFQUE4QkEsQ0FBOUIsQ0FsRXRELENBVEYsQ0E2RUcsQ0FBRWYsQ0FBaUIsRUFBSUMsQ0FBdEIsRUFBa0NLLENBQW5DLEdBQ0Msd0NBQU0sU0FBUyxDQUFDLGVBQWhCLENBQWdDLEVBQUUsaUJBQVdHLENBQVgsYUFBcUJELENBQXJCLENBQWxDLEVBQ0dSLENBQWlCLEVBQUlNLENBRHhCLENBOUVKLENBb0ZILEMsT0FoS2lCNkIsZ0IsV0FtS0xqRCxLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IElucHV0TGFiZWwgZnJvbSAnLi4vRm9ybUVsZW1lbnRzL0lucHV0TGFiZWwnXG5cbmZ1bmN0aW9uIGZvcm1hdE1vbmV5KGFtb3VudCwgZGVjaW1hbENvdW50ID0gMiwgZGVjaW1hbCA9IFwiLlwiLCB0aG91c2FuZHMgPSBcIixcIikge1xuICB0cnkge1xuICAgIGRlY2ltYWxDb3VudCA9IE1hdGguYWJzKGRlY2ltYWxDb3VudCk7XG4gICAgZGVjaW1hbENvdW50ID0gaXNOYU4oZGVjaW1hbENvdW50KSA/IDIgOiBkZWNpbWFsQ291bnQ7XG5cbiAgICBjb25zdCBuZWdhdGl2ZVNpZ24gPSBhbW91bnQgPCAwID8gXCItXCIgOiBcIlwiO1xuXG4gICAgY29uc3QgaSA9IHBhcnNlSW50KFxuICAgICAgKGFtb3VudCA9IE1hdGguYWJzKE51bWJlcihhbW91bnQpIHx8IDApLnRvRml4ZWQoZGVjaW1hbENvdW50KSlcbiAgICApLnRvU3RyaW5nKCk7XG4gICAgY29uc3QgaiA9IGkubGVuZ3RoID4gMyA/IGkubGVuZ3RoICUgMyA6IDA7XG5cbiAgICByZXR1cm4gKFxuICAgICAgbmVnYXRpdmVTaWduICtcbiAgICAgIChqID8gaS5zdWJzdHIoMCwgaikgKyB0aG91c2FuZHMgOiBcIlwiKSArXG4gICAgICBpLnN1YnN0cihqKS5yZXBsYWNlKC8oXFxkezN9KSg/PVxcZCkvZywgYCQxJHt0aG91c2FuZHN9YCkgK1xuICAgICAgKGRlY2ltYWxDb3VudFxuICAgICAgICA/IGRlY2ltYWwgK1xuICAgICAgICAgIE1hdGguYWJzKGFtb3VudCAtIGkpXG4gICAgICAgICAgICAudG9GaXhlZChkZWNpbWFsQ291bnQpXG4gICAgICAgICAgICAuc2xpY2UoMilcbiAgICAgICAgOiBcIlwiKVxuICAgICk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZyhlKTtcbiAgfVxufVxuXG5jbGFzcyBSYWRpbyBleHRlbmRzIENvbXBvbmVudCB7XG4gIHN0YXRlID0ge1xuICAgIG90aGVyVmFsdWU6IGZhbHNlLFxuICAgIGlucHV0VmFsdWU6IGZhbHNlXG4gIH07XG5cbiAgb25Gb2N1cyA9IGUgPT4ge1xuICAgIGxldCB7IHZhbHVlIH0gPSBlLnRhcmdldDtcbiAgICBjb25zdCB7IG90aGVyVmFsdWUsIGlucHV0VmFsdWUgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICBpZiAob3RoZXJWYWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgIHZhbHVlID0gXCJcIjtcbiAgICB9XG4gICAgdGhpcy5vdGhlclJhZGlvLmNsaWNrKCk7XG4gICAgdGhpcy5vdGhlclJhZGlvLmNoZWNrZWQgPSB0cnVlO1xuICAgIHRoaXMuc2V0U3RhdGUoeyBpbnB1dFZhbHVlOiB2YWx1ZSB9KTtcbiAgfTtcblxuICBvbkJsdXIgPSBlID0+IHtcbiAgICBjb25zdCB7IHZhbHVlIH0gPSBlLnRhcmdldDtcbiAgICBpZiAodmFsdWUucmVwbGFjZShcIiBcIiwgXCJcIikgPT0gXCJcIikge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlucHV0VmFsdWU6IHRoaXMuc3RhdGUub3RoZXJWYWx1ZSB9KTtcbiAgICAgIHRoaXMub3RoZXJSYWRpby5jaGVja2VkID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbnB1dFZhbHVlOiBmb3JtYXRNb25leSh2YWx1ZSkgfSk7XG4gICAgfVxuICB9O1xuXG4gIG9uQ2hhbmdlID0gZSA9PiB7XG4gICAgY29uc3QgeyB2YWx1ZSB9ID0gZS50YXJnZXQ7XG5cbiAgICB0aGlzLnNldFN0YXRlKHsgaW5wdXRWYWx1ZTogdmFsdWUgfSk7XG4gIH07XG5cbiAgc2V0Rm9jdXMgPSBlID0+IHtcbiAgICB0aGlzLm90aGVyQ2hvaXNlLmZvY3VzKCk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGZpZWxkLFxuICAgICAgdmFsdWUsXG4gICAgICB2YWxpZGF0aW9uTWVzc2FnZSxcbiAgICAgIHRvdWNoZWQsXG4gICAgICBzZXRUb3VjaGVkLFxuICAgICAgdXBkYXRlRm9ybSxcbiAgICAgIGhpZGVGaWVsZCxcbiAgICAgIHN0eWxlZENvbXBvbmVudHMsXG4gICAgICBlcnJvcixcbiAgICAgIHVuc2V0RXJyb3JcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7XG4gICAgICBpZCxcbiAgICAgIGZvcm1JZCxcbiAgICAgIHR5cGUsXG4gICAgICBsYWJlbCxcbiAgICAgIGNzc0NsYXNzLFxuICAgICAgaXNSZXF1aXJlZCxcbiAgICAgIGNob2ljZXMsXG4gICAgICBkZXNjcmlwdGlvbixcbiAgICAgIGRlc2NyaXB0aW9uUGxhY2VtZW50LFxuICAgICAgbGFiZWxQbGFjZW1lbnQsXG4gICAgICB3aWR0aCxcbiAgICAgIGN1c3RvbU5hbWUsXG4gICAgICBvdGhlclBsYWNlaG9sZGVyXG4gICAgfSA9IGZpZWxkO1xuICAgIGNvbnN0IHsgaW5wdXRWYWx1ZSB9ID0gdGhpcy5zdGF0ZTtcblxuICAgIGNvbnN0IHtcbiAgICAgIFJhZGlvZ3JvdXAgPSBcImZpZWxkc2V0XCIsXG4gICAgICBMYWJlbCA9IFwibGVnZW5kXCIsXG4gICAgICBCb3ggPSBcImRpdlwiLFxuICAgICAgSW5wdXQgPSBcImlucHV0XCJcbiAgICB9ID0gc3R5bGVkQ29tcG9uZW50cyB8fCBmYWxzZTtcblxuICAgIHJldHVybiAoXG4gICAgICA8Qm94XG4gICAgICAgIHdpZHRoPXt3aWR0aH1cbiAgICAgICAgY2xhc3NOYW1lPXtcbiAgICAgICAgICAodmFsaWRhdGlvbk1lc3NhZ2UgJiYgdG91Y2hlZCkgfHwgZXJyb3JcbiAgICAgICAgICAgID8gYGZvcm0tZmllbGQgZXJyb3IgJHtjc3NDbGFzc31gXG4gICAgICAgICAgICA6IGBmb3JtLWZpZWxkICR7Y3NzQ2xhc3N9YFxuICAgICAgICB9XG4gICAgICAgIHN0eWxlPXt7IGRpc3BsYXk6IGhpZGVGaWVsZCA/IFwibm9uZVwiIDogdW5kZWZpbmVkIH19XG4gICAgICA+XG4gICAgICAgIDxSYWRpb2dyb3VwIGNsYXNzTmFtZT1cInJhZGlvc1wiPlxuICAgICAgICAgIDxJbnB1dExhYmVsXG4gICAgICAgICAgICBmb3JtSWQ9e2Zvcm1JZH1cbiAgICAgICAgICAgIGlkPXtpZH1cbiAgICAgICAgICAgIGxhYmVsPXtsYWJlbH1cbiAgICAgICAgICAgIGxhYmVsUGxhY2VtZW50PXtsYWJlbFBsYWNlbWVudH1cbiAgICAgICAgICAgIGlzUmVxdWlyZWQ9e2lzUmVxdWlyZWR9XG4gICAgICAgICAgICBzdHlsZWRDb21wb25lbnQ9e3N0eWxlZENvbXBvbmVudHN9XG4gICAgICAgICAgLz5cbiAgICAgICAgICB7ZGVzY3JpcHRpb25QbGFjZW1lbnQgPT09IFwiYWJvdmVcIiAmJiBkZXNjcmlwdGlvbiAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRlc2NyaXB0aW9uXCI+e2Rlc2NyaXB0aW9ufTwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAge2Nob2ljZXMubWFwKChjaG9pY2UsIGkpID0+IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXt0eXBlfSBrZXk9e2Nob2ljZS52YWx1ZX0+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIGlkPXtgaW5wdXRfJHtmb3JtSWR9XyR7aWR9XyR7aX1gfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgbmFtZT17Y3VzdG9tTmFtZSB8fCBgaW5wdXRfJHtpZH1gfVxuICAgICAgICAgICAgICAgIHZhbHVlPXtjaG9pY2UudmFsdWV9XG4gICAgICAgICAgICAgICAgY2hlY2tlZD17dmFsdWUgPT09IGNob2ljZS52YWx1ZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgdXBkYXRlRm9ybShldmVudCwgZmllbGQpO1xuICAgICAgICAgICAgICAgICAgc2V0VG91Y2hlZChpZCk7XG4gICAgICAgICAgICAgICAgICB1bnNldEVycm9yKGlkKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj17YGlucHV0XyR7Zm9ybUlkfV8ke2lkfV8ke2l9YH0+XG4gICAgICAgICAgICAgICAge2Nob2ljZS50ZXh0fVxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSl9XG4gICAgICAgICAge2ZpZWxkLmVuYWJsZU90aGVyQ2hvaWNlICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHt0eXBlfSBvdGhlci1jaG9pc2VgfT5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgaWQ9e2BpbnB1dF8ke2Zvcm1JZH1fJHtpZH1fJHtjaG9pY2VzLmxlbmd0aH1gfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgbmFtZT17YGlucHV0XyR7aWR9YH1cbiAgICAgICAgICAgICAgICB2YWx1ZT17aW5wdXRWYWx1ZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgdXBkYXRlRm9ybShldmVudCwgZmllbGQpO1xuICAgICAgICAgICAgICAgICAgc2V0VG91Y2hlZChpZCk7XG4gICAgICAgICAgICAgICAgICB1bnNldEVycm9yKGlkKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHJlZj17ZSA9PiAodGhpcy5vdGhlclJhZGlvID0gZSl9XG4gICAgICAgICAgICAgICAgb25Gb2N1cz17ZSA9PiB0aGlzLnNldEZvY3VzKGUpfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICBpZD17YGlucHV0XyR7Zm9ybUlkfV8ke2lkfV8ke2Nob2ljZXMubGVuZ3RofV9vdGhlcmB9XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtvdGhlclBsYWNlaG9sZGVyIHx8IFwiT3RoZXJcIn1cbiAgICAgICAgICAgICAgICB2YWx1ZT17aW5wdXRWYWx1ZSB8fCBcIlwifVxuICAgICAgICAgICAgICAgIG9uRm9jdXM9e2UgPT4gdGhpcy5vbkZvY3VzKGUpfVxuICAgICAgICAgICAgICAgIG9uQmx1cj17ZSA9PiB7XG4gICAgICAgICAgICAgICAgICB1cGRhdGVGb3JtKGUsIGZpZWxkKTtcbiAgICAgICAgICAgICAgICAgIHRoaXMub25CbHVyKGUpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4ge1xuICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlRm9ybShlLCBmaWVsZCk7XG4gICAgICAgICAgICAgICAgICAvLyBzZXRUb3VjaGVkKGlkKTtcbiAgICAgICAgICAgICAgICAgIHRoaXMub25DaGFuZ2UoZSk7XG4gICAgICAgICAgICAgICAgICB1bnNldEVycm9yKGlkKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHJlZj17ZSA9PiAodGhpcy5vdGhlckNob2lzZSA9IGUpfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7ZGVzY3JpcHRpb25QbGFjZW1lbnQgIT09IFwiYWJvdmVcIiAmJiBkZXNjcmlwdGlvbiAmJiA8ZGl2IGNsYXNzTmFtZT1cImRlc2NyaXB0aW9uXCI+e2Rlc2NyaXB0aW9ufTwvZGl2Pn1cbiAgICAgICAgPC9SYWRpb2dyb3VwPlxuICAgICAgICB7KCh2YWxpZGF0aW9uTWVzc2FnZSAmJiB0b3VjaGVkKSB8fCBlcnJvcikgJiYgKFxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImVycm9yLW1lc3NhZ2VcIiBpZD17YGVycm9yXyR7Zm9ybUlkfV8ke2lkfWB9PlxuICAgICAgICAgICAge3ZhbGlkYXRpb25NZXNzYWdlIHx8IGVycm9yfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKX1cbiAgICAgIDwvQm94PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmFkaW87XG4iXX0=