"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireWildcard(require("react")),_reactSelect=_interopRequireDefault(require("react-select")),_InputLabel=_interopRequireDefault(require("../FormElements/InputLabel")),_jsxRuntime=require("react/jsx-runtime");function _getRequireWildcardCache(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(_getRequireWildcardCache=function(a){return a?c:b})(a)}function _interopRequireWildcard(b,c){if(!c&&b&&b.__esModule)return b;if(null===b||"object"!=typeof b&&"function"!=typeof b)return{default:b};var d=_getRequireWildcardCache(c);if(d&&d.has(b))return d.get(b);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in b)if("default"!=a&&Object.prototype.hasOwnProperty.call(b,a)){var g=f?Object.getOwnPropertyDescriptor(b,a):null;g&&(g.get||g.set)?Object.defineProperty(e,a,g):e[a]=b[a]}return e.default=b,d&&d.set(b,e),e}var _default=({field:a,value:b,validationMessage:c,touched:d,setTouched:e,setFocusClass:f,updateForm:g,hideField:h,styledComponents:i,error:j,unsetError:k,cssClass:l,...m})=>{var n;const{id:o,formId:p,type:q,label:r,isRequired:s,choices:t,placeholder:u,description:v,descriptionPlacement:w,labelPlacement:x,width:y,customName:z}=a,[A,B]=(0,_react.useState)(""),C=t.map(a=>({value:a.value,label:a.text}));let D=t.filter(a=>a.isSelected);D=D.length?[{label:D[0].text,value:D[0].value}]:"";const[E,F]=(0,_react.useState)(b||D),G=b=>{F(b);const c={target:{value:b&&0<b.length?b.map(a=>a.value):""}};g(c,a),k(o)},H=()=>{const b={target:{value:E&&0<E.length?E.map(a=>a.value):""}};g(b,a),e(o),B("")},{ReactSelect:I,Label:J="label",Box:K="div"}=i||!1,L=I||_reactSelect.default,M=[...E];return E&&0<F.length&&M.shift(),(0,_jsxRuntime.jsx)(K,{width:y,className:c&&d||j?`form-field error ${l} ${A}`:`form-field ${l} ${A}`,style:{display:h?"none":void 0},children:(0,_jsxRuntime.jsxs)("div",{className:q,children:[(0,_jsxRuntime.jsx)(_InputLabel.default,{formId:p,id:o,label:r,labelPlacement:x,isRequired:s,styledComponent:i}),"above"===w&&v&&(0,_jsxRuntime.jsx)("div",{className:"description",dangerouslySetInnerHTML:{__html:v}}),(0,_jsxRuntime.jsx)(L,{name:z||`input_${o}`,required:s,value:E,onChange:b=>{G(b,a),k(o)},onBlur:()=>H(),onFocus:()=>{f(!0),B("is-open")},placeholder:u,options:C,autoFocus:!1,isMulti:!0,inputId:`input_${p}_${o}`}),(0,_jsxRuntime.jsx)("input",{type:"hidden",name:`input_${o}[]`,required:s,value:E&&null!==(n=E[0])&&void 0!==n&&n.value?E[0].value:""}),M&&0<M.length&&M.map(a=>(0,_jsxRuntime.jsx)("input",{type:"hidden",name:`input_${o}[]`,value:a.value})),"above"!==w&&v&&(0,_jsxRuntime.jsx)("div",{className:"description",dangerouslySetInnerHTML:{__html:v}}),(c&&d||j)&&(0,_jsxRuntime.jsx)("span",{className:"error-message",id:`error_${p}_${o}`,children:c||j})]})})};exports.default=_default;