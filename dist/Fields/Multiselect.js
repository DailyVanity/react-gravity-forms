"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _toConsumableArray2=_interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),_react=_interopRequireWildcard(require("react")),_reactSelect=_interopRequireDefault(require("react-select")),_InputLabel=_interopRequireDefault(require("../FormElements/InputLabel")),_default=function(a){var b,c=a.field,d=a.value,e=a.validationMessage,f=a.touched,g=a.setTouched,h=a.setFocusClass,i=a.updateForm,j=a.hideField,k=a.styledComponents,l=a.error,m=a.unsetError,n=a.cssClass,o=(0,_objectWithoutProperties2["default"])(a,["field","value","validationMessage","touched","setTouched","setFocusClass","updateForm","hideField","styledComponents","error","unsetError","cssClass"]),p=c.id,q=c.formId,r=c.type,s=c.label,t=c.isRequired,u=c.choices,v=c.placeholder,w=c.description,x=c.descriptionPlacement,y=c.labelPlacement,z=c.width,A=c.customName,B=u.map(function(a){return{value:a.value,label:a.text}}),C=u.filter(function(a){return a.isSelected});C=C.length?[{label:C[0].text,value:C[0].value}]:"";var D=(0,_react.useState)(d||C),E=(0,_slicedToArray2["default"])(D,2),F=E[0],G=E[1],H=function(a){G(a);var b={target:{value:a&&0<a.length?a.map(function(a){return a.value}):""}};i(b,c),m(p)},I=function(){var a={target:{value:F&&0<F.length?F.map(function(a){return a.value}):""}};console.log("event",a),i(a,c),g(p)},J=k||!1,K=J.ReactSelect,L=J.Label,M=void 0===L?"label":L,N=J.Box,O=void 0===N?"div":N,P=K||_reactSelect["default"],Q=(0,_toConsumableArray2["default"])(F);return F&&0<G.length&&Q.shift(),_react["default"].createElement(O,{width:z,className:e&&f||l?"form-field error ".concat(n):"form-field ".concat(n),style:{display:j?"none":void 0}},_react["default"].createElement("div",{className:r},_react["default"].createElement(_InputLabel["default"],{formId:q,id:p,label:s,labelPlacement:y,isRequired:t,styledComponent:k}),"above"===x&&w&&_react["default"].createElement("div",{className:"description"},w),_react["default"].createElement(P,{name:A||"input_".concat(p),required:t,value:F,onChange:function onChange(a){H(a,c),m(p)},onBlur:function onBlur(){return I()},onFocus:function onFocus(){return h(!0)},placeholder:v,options:B,autoFocus:!1,isMulti:!0,inputId:"input_".concat(q,"_").concat(p)}),_react["default"].createElement("input",{type:"hidden",name:"input_".concat(p,"[]"),required:t,value:F&&(null===(b=F[0])||void 0===b?void 0:b.value)?F[0].value:""}),Q&&0<Q.length&&Q.map(function(a){return _react["default"].createElement("input",{type:"hidden",name:"input_".concat(p,"[]"),value:a.value})}),"above"!==x&&w&&_react["default"].createElement("div",{className:"description"},w),(e&&f||l)&&_react["default"].createElement("span",{className:"error-message",id:"error_".concat(q,"_").concat(p)},e||l)))};exports["default"]=_default;